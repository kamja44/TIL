1. [시스템 보안](#1-시스템-보안)<br>
   &nbsp;&nbsp; 1-1. [윈도우 서버의 계정 관리 방식](#윈도우-서버의-계정-관리-방식)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; 1-1-1. [윈도우의 로컬 사용자 계정](#윈도우의-로컬-사용자-계정)<br>
   &nbsp;&nbsp; 1-2. [이벤트 뷰어](#이벤트-뷰어event-viewer)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; 1-2-1. [윈도우 버전에 따른 로그 파일명](#윈도우-버전에-따른-로그-파일명)<br>
   &nbsp;&nbsp; 1-3. [감사 정책](#감사-정책)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; 1-3-1. [세부 감사 정책](#세부-감사-정책)<br>
   &nbsp;&nbsp; 1-4. [사전 대입 공격](#사전-공격dictionary-attack)<br>
   &nbsp;&nbsp; 1-5. [무차별 대입 공격](#무차별-공격brute-force-attack)<br>
   &nbsp;&nbsp; 1-6. [혼합공격](#혼합-공격hybrid-attact)<br>
   &nbsp;&nbsp; 1-7. [Pass the Hash 공격](#pass-the-hash-공격)<br>
   &nbsp;&nbsp; 1-8. [크리덴셜 스터핑](#크리덴셜-스터핑credential-stuffing)<br>
   &nbsp;&nbsp; 1-9. [운영체제 보안을 위한 분리](#운영체제-보안을-위한-분리)<br>
   &nbsp;&nbsp; 1-10. [참조 모니터](#참조-모니터reference-monitor)<br>
   &nbsp;&nbsp; 1-11. [인터럽트](#인터럽트interrupt)<br>
   &nbsp;&nbsp; 1-12. [커널](#프로그램-카운터pc)<br>
   &nbsp;&nbsp; 1-13. [커널](#커널kernel)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; 1-13-1. [커널의 기능](#커널의-기능)<br>
   &nbsp;&nbsp; 1-14. [쉘(shell)](#쉘shell)<br>
   &nbsp;&nbsp; 1-15. [유닉스 시스템의 세 가지 핵심 컴포넌트](#유닉스-시스템의-세-가지-핵심-컴포넌트)<br>
   &nbsp;&nbsp; 1-16. [컴파일(Compile)](#컴파일compile)<br>
   &nbsp;&nbsp; 1-17. [init프로세스](#init-프로세스)<br>

# 1. 시스템 보안

## 윈도우 서버의 계정 관리 방식

1. 워크 그룹 방식

- 각각의 계정과 자원을 시스템별로 관리하는 방식 -> 소규모 네트워크에 적합
- "피어 투 피어"라고도 하며, `전용 서버 없이 모든 시스템이 서버이면서 클라이언트 기능을 가지며 서로 동등하다.`
- 서버 관리자가 필요 없으며, 보안 관련 정보는 각 시스템의 로컬 디렉터리 DB에 의해 제공된다.
- Active Directory가 구축되지 않은 상태로서 다른 시스템에 접근할 때 수시로 엑세스에 필요한 사용자 계정과 암호를 요구한다.

2. 도메인 방식

- 모든 계정과 자원을 특정 서버에서 관리하는 `중앙 집중식 방식`이다.
- 사용자에게 적절한 사용 권한을 설정하면 사용자는 다른 컴퓨터에 자원을 지정한 권한대로 접근할 수 있다.
- Active Directory가 구축된 상태에서 가능하며 기존의 Windows NT 기반의 도메인보다 확장된 기능을 제공한다.

### 윈도우의 로컬 사용자 계정

- 로컬 사용자 계정은 `%SystemRoot%\System32\config\SAM`에 저장되어 있다.

## 이벤트 뷰어(Event Viewer)

- `윈도우 OS에서 로그를 조회하고 관리`하는 도구이다.
- application 로그, security 로그, system 로그 3가지 로그를 기본 로그로 한다.

### 윈도우 버전에 따른 로그 파일명

- 윈도우 XP 이하
  - application 로그 : %SystemRoot%\System32\Config\AppEvent.Evt
  - system 로그 : %SystemRoot%\System32\Config\SysEvent.Evt
  - security 로그 : %SystemRoot%\System32\Config\SecEvent.Evt
- 윈도우 Vista 이상
  - application 로그 : %SystemRoot%\System32\winevt\Logs\application.evtx
  - system 로그 : %SystemRoot%\System32\winevt\Logs\system.evtx
  - security 로그 : %SystemRoot%\System32\winevt\Logs\security.evtx

## 감사 정책

- 윈도우 로그 관리와 관련하여 `서버 관리자가 가장 먼저 고려해야 할 대상`
- `어떤 로그를 남길지 정의한 규칙`
  - 감사 정책에 의해 지정한 이벤트 범주에 대해서만 로그가 남는다.
- 감사 정책이 구성되어 있지 않거나 설정 수준이 너무 낮으면 보안 관련 문제 발생 시 원인 파악이 어렵고, 설정 수준이 너무 높으면 불필요한 항목이 많아져 중요한 항복과 혼동될 수 있기에, 적절한 감사 정책 설정이 필요하다.
- 감사 정책 설정 방법
  - 윈도우 실행 -> secpol.msc(로컬 보안 정책)
- 로그 확인
  - 윈도우 실행 -> eventvwr.msc(이벤트 뷰어)

### 세부 감사 정책

|       감사 항목        |   권장값   |                                                                                    설명                                                                                     |
| :--------------------: | :--------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|      객체 액세스       | 감사 안함  |                                               파일, 디렉터리, 레지스트리 등 객체에 대한 접근 성공/실패 여부를 기록할지를 결정                                               |
|       계정 관리        |    실패    |               계정 관리 이벤트를 감사할지 여부를 결정한다.<br>사용자 계정 또는 그룹의 생성, 삭제, 암호의 설정 및 변경 등의 이벤트 성공/실패 로그를 기록한다.                |
|   계정 로그온 이벤트   | 성공, 실패 |                                                 도메인 계정에 대한 로그온 성공/실패 관련 이벤트 로그를 기록할지를 결정한다.                                                 |
|       권한 사용        |    실패    |                                                           사용자의 권한을 이용하려고 할 때마다 이벤트를 생성한다.                                                           |
| 디렉터리 서비스 엑세스 |    실패    |                         Active Directory 개체의 시스템 엑세스 컨트롤 목록(SACL)에 나열된 사용자가 해당 개체에 액세스를 시도할 때 이벤트를 생성한다.                         |
|     로그온 이벤트      | 성공, 실패 |                                                로컬 계정에 대한 로그온/오프 성공/실패에 대한 이벤트의 기록 여부를 결정한다.                                                 |
|     시스템 이벤트      | 감사 안함  |                                             시스템 시작, 종료, 보안 로그에 영향을 미치는 이벤트 등을 감시할지 여부를 결정한다.                                              |
|       정책 변경        | 성공, 실패 |                                                                  감사 정책 변경의 성공 및 실패를 감사한다.                                                                  |
|     프로세스 추적      | 감사 안함  | 실행되는 프로세스에 대한 자세한 추적 정보를 감사하는 경우 프로세스 생성, 프로세스 종료, 핸들 복제 및 간접 개체 액세스 같은 프로세스 관련 이벤트르 감사할지 여부를 결정한다. |

### 윈도우 시스템의 이벤트 로그

1. application 로그

- 응용 프로그램이 남기는 다양한 이벤트가 저장된다.
- 어떤 로그를 남길지는 해당 응용 프로그램을 개발한 개발사에 의해 결정된다.

2. security 로그

- 로그온 시도 및 로그온 성공 및 실패, 사용자 계정의 추가 및 삭제, 권한 변경 등의 시스템 보안 관련 이벤트가 저장된다.
- `어떤 로그를 남길지는 감사 로그 설정`에 의해 결정된다.

3. system 로그

- 운영체제가 시작될 때 장치 드라이버가 로드되지 않는 여부, 시스템 서비스의 시작, 오류 등의 이벤트를 저장한다.

## 사전 대입 공격(Dictionary Attack)

- `비밀번호로 자주 사용되는 단어를 사전 파일로 만들어놓고 사전 파일의 단어를 대입하여 일치 여부를 확인`하는 방법이다.

## 무차별 대입 공격(Brute Force Attack)

- 비밀번호로 사용될 수 있는 영문자, 숫자, 특수문자 등을 `무작위로 대입`하여 비밀번호를 알아내는 방법이다.

## 혼합 공격(Hybrid Attact)

- 사전 공격과 무차별 공격을 혼합한 방식이다.
- 기존 사전 파일 문자열에 문자, 숫자 등을 추가 대입하여 비밀번호를 알아내는 방법이다.

## Pass the Hash 공격

- 패스워드에 대한 해시값을 인증 시에 사용하는 환경에서 `희생자의 해사값을 획득한 후 이를 이용하여 인증`을 시도하는 형태의 공격이다.
- 원격 서비스에 접속할 때 사용자의 실제 패스워드를 모르는 상태에서 탈취한 사용자의 패스워드 해시값을 이용하여 인증을 시도한다.

## 크리덴셜 스터핑(Credential Stuffing)

- 무작위 대입 공격의 일종이다.
- 신원확인에 필요한 개인정보(자격증명, Credential)를 다양한 방식으로 탈취하여 사용자가 이용할 만한 시스템 및 사이트에 방문한 후 무작위로 대입하는 공격을 말한다.

## 운영체제 보안을 위한 분리

- 물리적 분리(Physical separation)
  - 사용자별로 별도의 장비만 사용하도록 제한하는 방법으로 강한 형태의 분리가 되지만 현실적/실용적이지 못하다.
- 시간적 분리(Temporal separation)
  - 프로세스가 동일 시간에 하나씩만 실행하도록 하는 방법으로 동시 실행으로 발생되는 보안 문제를 제거한다.
- 논리적 분리(Logical separation)
  - 프로세스별 논리적인 영역을 갖도록 하는 방법이다.
  - 프로세스는 자신의 영역 안에서는 자유로운 작업을 수행하지만 할당된 영역 밖에서는 작업이 엄격하게 제한된다.
- 암호적 분리(Cryptographic separation)
  - 내부에서 사용되는 정보를 외부에서는 알 수 없도록 암호화하는 방법이다.

## 참조 모니터(reference monitor)

- 객체에 접근하는 주체의 각 요청을 점검하여 `보안 정책에 따라 접근통제`를 수행하는 추상 머신이다.
- `보안 커널에서 사용자의 접근권한을 검사하고 프로세스와 파일의 정보 흐름을 감시`하는 핵심 모듈이다.

## 인터럽트(interrupt)

- 컴퓨터 시스템에 예기치 않은 일이 발생했을 때 CPU에게 알린다.
  - 실행되는 프로그램에 의해서가 아닌 그 밖의 다른 것에 의해 발생되는 제어 흐름의 변경을 말한다.
- `인터럽트가 발생하면 현재 실행하고 있는 프로그램이 일시 중단되고, 그 특수한 상태를 처리하는 프로그램으로 옮겨져 처리한 후 다시 원래의 프로그램을 처리`한다.
- `CPU가 인터럽트 신호를 받으면 프로그램 카운터(PC)에 있는 복귀주소를 메모리 스택에 저장한 후 입출력 전송을 위한 인터럽트 서비스 루틴으로 제어를 이동`한다.

## 프로그램 카운터(PC)

- 다음에 수행할 명령어의 주소를 기억한다.

## 커널(Kernel)

- 하드웨어 특서으로부터 프로그램들을 격리하고, `하드웨어와 직접 상호 작동함으로써 프로그램들에 일관된 서비스를 제공한다.`

### 커널의 기능

- `프로세스와 파일의 관리`
- 하드웨어나 유틸리티 또는 응용 프로그램들은 정의된 시스템호출을 통해서 커널과 통신한다.
- 커널은 UNIX 계열의 시스템이 `부팅될 때 가장 먼저 로드`되는 운영체제의 핵심 부분이다.
- 주기억장치에 상주하여 프로세스 스케줄링, 기억 장치 관리, 파일시스템관리, 운영체제의 고유 기능을 제공한다.

## 쉘(shell)

- `사용자와 커널이 대화하는 인터페이스의 기능을 제공한다.`
- `커널과 직접적으로 연결`되어 있으며 `명령어를 해석한 결과`를 다른 프로그램으로 넘겨주기도 하고, 커널로 보내기도 한다.

## 유닉스 시스템의 세 가지 핵심 컴포넌트

|          구분           |                                                 설명                                                 |
| :---------------------: | :--------------------------------------------------------------------------------------------------: |
|      커널(kernel)       |            유닉스 운영체제의 핵심이다. <br>메인 메모리에 상주하여 컴퓨터 자원을 관리한다.            |
|        쉘(shell)        | 커널과 사용자 간의 인터페이스를 담당한다.<br>사용자 명령의 입출력을 수행하며, 프로그램을 실행시킨다. |
| 파일시스템(File System) |                   디렉터리, 서브 디렉터리, 파일 등의 계층적인 트리구조를 제공한다.                   |

## 컴파일(Compile)

- 사용자가 작성한 소스 프로그램을 컴퓨터가 이해할 수 있는 기계어로 번역하는 과정이다.
  - 과정이 종료되면 기계어 코드로 변환된 목적 프로그램이 생성된다.
- 원시 언어로 된 프로그램으로부터 그와 동등한 일을 하는 목적 언어로 된 프로그램을 생성하는 작업이다.
  - 프리 프로세싱, 매크로 처리, 어셈블 등 `모든 종류의 언어 처리 작업을 총칭`한다.

## init 프로세스

- `시스템 부팅과정의 마지막에 수행`되어 /etc/inittab 파일을 읽어 시스템의 `런 레벨(Run Level)에 따른 초기화 작업`을 수행한다.
- `고아 프로세스를 위한 대리모 역할`을 한다.
  - 고아 프로세스의 ppid가 1(init process)로 지정되면 고아 프로세스 종료 시 종료 상태정보를 init 프로세스에 반환하고 소멸한다.
