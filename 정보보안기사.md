1. [시스템 보안](#1-시스템-보안)<br>
   &nbsp;&nbsp; [윈도우 서버의 계정 관리 방식](#윈도우-서버의-계정-관리-방식)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; [윈도우의 로컬 사용자 계정](#윈도우의-로컬-사용자-계정)<br>
   &nbsp;&nbsp; [이벤트 뷰어](#이벤트-뷰어event-viewer)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; [윈도우 버전에 따른 로그 파일명](#윈도우-버전에-따른-로그-파일명)<br>
   &nbsp;&nbsp; [감사 정책](#감사-정책)<br>
   &nbsp;&nbsp;&nbsp;&nbsp; [세부 감사 정책](#세부-감사-정책)<br>

# 1. 시스템 보안

## 윈도우 서버의 계정 관리 방식

1. 워크 그룹 방식

- 각각의 계정과 자원을 시스템별로 관리하는 방식 -> 소규모 네트워크에 적ㅎ바
- "피어 투 피어"라고도 하며, `전용 서버 없이 모든 시스템이 서버이면서 클라이언트 기능을 가지며 서로 동등하다.`
- 서버 관리자가 필요 없으며, 보안 관련 정보는 각 시스템의 로컬 디렉터리 DB에 의해 제공된다.
- Active Directory가 구축되지 않은 상태로서 다른 시스템에 접근할 때 수시로 엑세스에 필요한 사용자 계정과 암호를 요구한다.

2. 도메인 방식

- 모든 계정과 자원을 특정 서버에서 관리하는 `중앙 집중식 방식`이다.
- 사용자에게 적절한 사용 권한을 설정하면 사용자는 다른 컴퓨터에 자원을 지정한 권한대로 접근할 수 있다.
- Active Directory가 구축된 상태에서 가능하며 기존의 Windows NT 기반의 도메인보다 확장된 기능을 제공한다.

### 윈도우의 로컬 사용자 계정

- 로컬 사용자 계정은 `%SystemRoot%\System32\config\SAM`에 저장되어 있다.

## 이벤트 뷰어(Event Viewer)

- `윈도우 OS에서 로그를 조회하고 관리`하는 도구이다.
- application 로그, security 로그, system 로그 3가지 로그를 기본 로그로 한다.

### 윈도우 버전에 따른 로그 파일명

- 윈도우 XP 이하
  - application 로그 : %SystemRoot%\System32\Config\AppEvent.Evt
  - system 로그 : %SystemRoot%\System32\Config\SysEvent.Evt
  - security 로그 : %SystemRoot%\System32\Config\SecEvent.Evt
- 윈도우 Vista 이상
  - application 로그 : %SystemRoot%\System32\winevt\Logs\application.evtx
  - system 로그 : %SystemRoot%\System32\winevt\Logs\system.evtx
  - security 로그 : %SystemRoot%\System32\winevt\Logs\security.evtx

## 감사 정책

- 윈도우 로그 관리와 관련하여 `서버 관리자가 가장 먼저 고려해야 할 대상`
- `어떤 로그를 남길지 정의한 규칙`
  - 감사 정책에 의해 지정한 이벤트 범주에 대해서만 로그가 남는다.
- 감사 정책이 구성되어 있지 않거나 설정 수준이 너무 낮으면 보안 관련 문제 발생 시 원인 파악이 어렵고, 설정 수준이 너무 높으면 불필요한 항목이 많아져 중요한 항복과 혼동될 수 있기에, 적절한 감사 정책 설정이 필요하다.
- 감사 정책 설정 방법
  - 윈도우 실행 -> secpol.msc(로컬 보안 정책)
- 로그 확인
  - 윈도우 실행 -> eventvwr.msc(이벤트 뷰어)

### 세부 감사 정책

|       감사 항목        |   권장값   |                                                                                    설명                                                                                     |
| :--------------------: | :--------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|      객체 액세스       | 감사 안함  |                                               파일, 디렉터리, 레지스트리 등 객체에 대한 접근 성공/실패 여부를 기록할지를 결정                                               |
|       계정 관리        |    실패    |               계정 관리 이벤트를 감사할지 여부를 결정한다.<br>사용자 계정 또는 그룹의 생성, 삭제, 암호의 설정 및 변경 등의 이벤트 성공/실패 로그를 기록한다.                |
|   계정 로그온 이벤트   | 성공, 실패 |                                                 도메인 계정에 대한 로그온 성공/실패 관련 이벤트 로그를 기록할지를 결정한다.                                                 |
|       권한 사용        |    실패    |                                                           사용자의 권한을 이용하려고 할 때마다 이벤트를 생성한다.                                                           |
| 디렉터리 서비스 엑세스 |    실패    |                         Active Directory 개체의 시스템 엑세스 컨트롤 목록(SACL)에 나열된 사용자가 해당 개체에 액세스를 시도할 때 이벤트를 생성한다.                         |
|     로그온 이벤트      | 성공, 실패 |                                                로컬 계정에 대한 로그온/오프 성공/실패에 대한 이벤트의 기록 여부를 결정한다.                                                 |
|     시스템 이벤트      | 감사 안함  |                                             시스템 시작, 종료, 보안 로그에 영향을 미치는 이벤트 등을 감시할지 여부를 결정한다.                                              |
|       정책 변경        | 성공, 실패 |                                                                  감사 정책 변경의 성공 및 실패를 감사한다.                                                                  |
|     프로세스 추적      | 감사 안함  | 실행되는 프로세스에 대한 자세한 추적 정보를 감사하는 경우 프로세스 생성, 프로세스 종료, 핸들 복제 및 간접 개체 액세스 같은 프로세스 관련 이벤트르 감사할지 여부를 결정한다. |

### 윈도우 시스템의 이벤트 로그

1. application 로그

- 응용 프로그램이 남기는 다양한 이벤트가 저장된다.
- 어떤 로그를 남길지는 해당 응용 프로그램을 개발한 개발사에 의해 결정된다.

2. security 로그

- 로그온 시도 및 로그온 성공 및 실패, 사용자 계정의 추가 및 삭제, 권한 변경 등의 시스템 보안 관련 이벤트가 저장된다.
- `어떤 로그를 남길지는 감사 로그 설정`에 의해 결정된다.

3. system 로그

- 운영체제가 시작될 때 장치 드라이버가 로드되지 않는 여부, 시스템 서비스의 시작, 오류 등의 이벤트를 저장한다.

## 비트로커(BitLocker)

- 윈도우 시스템에서 하나 이상의 드라이브를 암호화하는 기능이다.
- TPM(신뢰할 수 있는 플랫폼 모듈)을 사용하여 초기 시작 구성요소의 무결성을 검사하는 암호화 방식이다.

### TPM(Trusted Platform Module)

- 하드웨어, 소프트웨어, 펌웨어 인증을 검사하는 전용 칩을 말한다.
- TPM은 `승인 없는 변경을 감지했을 경우 PC는 제한된 모드로 부팅되어 잠재적인 공격자의 악의적 행위를 차단`한다.
